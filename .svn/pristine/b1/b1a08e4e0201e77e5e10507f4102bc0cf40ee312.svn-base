webpackJsonp([9],{"91c4":function(t,i){},"Kp/M":function(t,i,e){t.exports=e.p+"static/img/message.7a7aecf.png"},N4nI:function(t,i,e){t.exports=e.p+"static/img/no-link.56ca6a1.png"},rSLV:function(t,i,e){t.exports=e.p+"static/img/xiajian.c268272.png"},sjWa:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("cVr7"),s=e("ofmo"),n={name:"Record",data:function(){return{pullUpFinsh:!1,defaultDate:"2019-05-01",date:"",endTime:"",scroll:"",currPage:1,showType:!1,statistics:{total:0,issue:0,receive:0},isListEmpty:!1,userInfo:"",list:[],playWays:[{type:0,name:"全部"},{type:4,name:"转账"},{type:6,name:"提现"},{type:7,name:"充值"},{type:1,name:"发出红包"},{type:3,name:"发出+领取"},{type:8,name:"佣金返现"}],screenType:""}},watch:{$route:function(t,i){"My"!=t.name&&"Chat"!=t.name||this.$setItem("recordScrollTop",0)}},mounted:function(){this.endTime=this.getNowTime(),this.scroll||(a.a.use(s.a),this.scroll=new a.a(this.$refs.wrapper,{probeType:3,click:!0,bounce:{top:!1},pullUpLoad:{threshold:50}}))},activated:function(){this.getList()},methods:{searchByType:function(t,i){this.screenType!=t?(document.title=i+"记录 ",this.$refs.screenTypeName.innerHTML=i,this.screenType=t,this.currPage=1,this.pullUpFinsh=!1,this.showType=!1,this.getList()):this.showType=!1},getList:function(){var t=this;this.$dialog.loading.open(),this.$httpRequest("ApiGetUserRecord","post",{group_number:this.$route.params.name?this.$route.params.name:"",screen_type:this.screenType,page:this.currPage},function(i){if(t.$dialog.loading.close(),t.statistics=i.data.statistics,t.userInfo=i.data.userInfo,200==i.status_code){if(1==t.currPage)t.list=i.data.data;else{for(var e=0;e<i.data.data.length;e++)t.list.push(i.data.data[e]);t.scroll.finishPullUp()}t.isListEmpty=!0}else 1==t.currPage?(t.list=i.data.data,t.isListEmpty=!1):(t.pullUpFinsh=!0,t.scroll.finishPullUp());t.$nextTick(function(){t.scroll.refresh()}),1==t.currPage&&t.isListEmpty&&t.initScroll()})},initScroll:function(){var t=this;t.$nextTick(function(){t.scroll.on("pullingUp",function(){t.currPage++,!1===t.pullUpFinsh&&(t.getList(),t.$nextTick(function(){t.scroll.refresh()}))})})},chooseMonth:function(t){var i=this,e=this.defaultDate;this.defaultDate.length>7&&(e=this.defaultDate.substring(this.defaultDate.length-3),e=this.defaultDate.replace(e,"")),t!=e&&(this.$dialog.loading.open("正在检索..."),setTimeout(function(){i.$dialog.loading.close()},1e3)),this.defaultDate=t},loadList:function(){this.currPage++,this.getList()},showRecordInfo:function(t,i){i<=3&&(this.$setItem("recordScrollTop",this.scroll.y),this.$router.push({path:"/details/"+t}))},getNowTime:function(){var t=new Date,i=t.getFullYear(),e=t.getMonth()+1,a=t.getDate();return e>=1&&e<=9&&(e="0"+e),a>=0&&a<=9&&(a="0"+a),i+"-"+e+"-"+a}}},l={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{ref:"wrapper",staticClass:"wrapper"},[a("div",{staticClass:"wrapper-main"},[a("div",{staticClass:"statistics",staticStyle:{background:"#ef453a",color:"#ffe2b1",position:"relative"}},[a("div",{staticClass:"img aui-text-center",staticStyle:{"padding-top":"50px"}},[a("img",{staticStyle:{margin:"0 auto","border-radius":"5px","box-shadow":"0 1px 10px 0 #ffe2b1"},attrs:{src:t.webUrl+"/upload/"+t.userInfo.avatar,width:"60",height:"60"}}),t._v(" "),a("div",{staticClass:"aui-padded-15 aui-font-size-18"},[t._v(t._s(t.userInfo.name))])]),t._v(" "),a("div",{staticClass:"aui-text-center aui-padded-b-15",staticStyle:{"font-size":"50px","font-weight":"500"}},[t._v("\n\t\t\t\t"+t._s(t.statistics.total)),a("small",{staticClass:"aui-font-size-20"},[t._v("元")]),t._v(" "),a("div",{staticClass:"aui-text-center aui-font-size-16"},[t._v("\n\t\t\t\t\t☆累计总收益☆\n\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"aui-font-size-18",staticStyle:{position:"absolute",right:"20px",top:"15px",display:"none"}},[a("span",[a("yd-datetime",{attrs:{value:t.defaultDate,type:"month","start-date":"2019-05-01","end-date":t.endTime,callback:t.chooseMonth},model:{value:t.date,callback:function(i){t.date=i},expression:"date"}})],1),t._v(" "),a("img",{staticStyle:{margin:"5px auto"},attrs:{src:e("rSLV"),height:"10",width:"20",alt:""}})]),t._v(" "),a("div",{staticClass:"aui-font-size-18",staticStyle:{position:"absolute",right:"20px",top:"15px"},on:{click:function(i){t.showType=!0}}},[a("span",{ref:"screenTypeName"},[t._v("筛选类型")]),t._v(" "),a("img",{staticStyle:{margin:"5px auto"},attrs:{src:e("rSLV"),height:"10",width:"20",alt:""}})])]),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.isListEmpty,expression:"isListEmpty"}],staticClass:"aui-list aui-media-list"},t._l(t.list,function(i,s){return a("li",{key:s,staticClass:"aui-list-item aui-list-item-middle aui-padded-t-5",on:{click:function(e){return t.showRecordInfo(i.relation_id,i.type)}}},[a("div",{staticClass:"aui-media-list-item-inner"},[a("div",{staticClass:"aui-list-item-inner"},[a("div",{staticClass:"aui-list-item-text"},[a("div",{staticClass:"aui-list-item-title aui-font-size-18"},[a("span",{domProps:{innerHTML:t._s(6==i.type?"用户提现":i.redgroup.group_name)}}),t._v(" "),1==i.type?a("div",{staticClass:"aui-label",staticStyle:{background:"red",color:"#fff"}},[t._v("发出")]):2==i.type?a("div",{staticClass:"aui-label",staticStyle:{background:"#00CC00",color:"#fff"}},[t._v("领取")]):4==i.type?a("div",{staticClass:"aui-label",staticStyle:{background:"red",color:"#fff"}},[t._v("转账")]):6==i.type?a("div",{staticClass:"aui-label",staticStyle:{background:"red",color:"#fff"}},[t._v("提现")]):7==i.type?a("div",{staticClass:"aui-label",staticStyle:{background:"#00CC00",color:"#fff"}},[t._v("充值")]):8==i.type?a("div",{staticClass:"aui-label",staticStyle:{background:"#00CC00",color:"#fff"}},[t._v("佣金")]):i.amount>0?a("div",{staticClass:"aui-label",staticStyle:{background:"rgb(0, 204, 0)",color:"#fff"}},[t._v("收入")]):a("div",{staticClass:"aui-label",staticStyle:{background:"red",color:"#fff"}},[t._v("赔付")])]),t._v(" "),3==i.type&&0!=i.rob_amount?a("div",{staticClass:"aui-list-item-right aui-font-size-18",staticStyle:{color:"#000"},domProps:{innerHTML:t._s(i.rob_amount)}}):a("div",{staticClass:"aui-list-item-right aui-font-size-18",staticStyle:{color:"#000"},domProps:{innerHTML:t._s(i.amount)}})]),t._v(" "),a("div",{staticClass:"aui-list-item-text aui-padded-t-5",staticStyle:{color:"#666"}},[a("div",{staticStyle:{width:"60%","line-height":"20px"}},[t._v(t._s(i.remark))]),t._v(" "),8!=i.type?a("span",[2==i.type?a("span",{staticStyle:{color:"#00CC00"}},[t._v("领："+t._s(i.amount)+"金")]):i.amount>0?a("span",{staticStyle:{color:"rgb(0, 204, 0)"}},[t._v("增加: "+t._s(i.amount)+"金")]):a("span",{staticStyle:{color:"red"}},[t._v("扣除: "+t._s(i.amount)+"金")])]):t._e()]),t._v(" "),a("div",{staticClass:"aui-list-item-text aui-padded-t-5"},[t._v("\n\t\t\t\t\t\t\t"+t._s(i.created_at)+" \n\t\t\t\t\t\t\t"),i.type<=3?a("span",[a("img",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{src:e("sJNZ"),width:"15"}})]):a("span",[a("img",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{src:e("N4nI"),width:"18"}})])])])])])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isListEmpty,expression:"!isListEmpty"}],staticClass:"aui-text-center aui-font-size-18 record-empty"},[a("img",{attrs:{src:e("Kp/M"),width:"100",alt:""}}),t._v("\n\t\t\t暂无领包/发包记录\n\t\t")])]),t._v(" "),a("yd-popup",{attrs:{position:"bottom",height:"60%"},model:{value:t.showType,callback:function(i){t.showType=i},expression:"showType"}},[a("div",{staticClass:"aui-row-padded aui-text-center"},t._l(t.playWays,function(i,e){return a("div",{key:e,staticClass:"aui-col-xs-6 way-item",on:{click:function(e){return t.searchByType(i.type,i.name)}}},[a("div",{staticClass:"way-name"},[t._v(t._s(i.name))])])}),0)])],1)},staticRenderFns:[]};var o=e("VU/8")(n,l,!1,function(t){e("91c4")},"data-v-1d07f9ce",null);i.default=o.exports}});