webpackJsonp([24],{"7sGb":function(e,t){},e0ht:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("pFYg"),a=i.n(n),s=i("mvHQ"),o=i.n(s);!function(e){var t={},i=/android/gi.test(navigator.appVersion),n=function(){var t=e.localStorage;return i&&(t=os.localStorage()),t};function s(e,t,i,n){return"function"==typeof t&&(n=i,i=t,t=void 0),"function"!=typeof i&&(n=i,i=void 0),{url:e,data:t,fnSuc:i,dataType:n}}t.trim=function(e){return String.prototype.trim?null==e?"":String.prototype.trim.call(e):e.replace(/(^\s*)|(\s*$)/g,"")},t.trimAll=function(e){return e.replace(/\s*/g,"")},t.isElement=function(e){return!(!e||1!=e.nodeType)},t.isArray=function(e){return Array.isArray?Array.isArray(e):e instanceof Array},t.isEmptyObject=function(e){return"{}"===o()(e)},t.addEvt=function(e,i,n,a){t.isElement(e)?(a=a||!1,e.addEventListener&&e.addEventListener(i,n,a)):console.warn("$api.addEvt Function need el param, el param must be DOM Element")},t.rmEvt=function(e,i,n,a){t.isElement(e)?(a=a||!1,e.removeEventListener&&e.removeEventListener(i,n,a)):console.warn("$api.rmEvt Function need el param, el param must be DOM Element")},t.one=function(e,i,n,a){if(t.isElement(e)){a=a||!1;var s=this;s.addEvt(e,i,function t(){n&&n(),s.rmEvt(e,i,t,a)},a)}else console.warn("$api.one Function need el param, el param must be DOM Element")},t.dom=function(e,t){if(1===arguments.length&&"string"==typeof arguments[0]){if(document.querySelector)return document.querySelector(arguments[0])}else if(2===arguments.length&&e.querySelector)return e.querySelector(t)},t.domAll=function(e,t){if(1===arguments.length&&"string"==typeof arguments[0]){if(document.querySelectorAll)return document.querySelectorAll(arguments[0])}else if(2===arguments.length&&e.querySelectorAll)return e.querySelectorAll(t)},t.byId=function(e){return document.getElementById(e)},t.first=function(e,i){return 1===arguments.length?t.isElement(e)?e.children[0]:void console.warn("$api.first Function need el param, el param must be DOM Element"):2===arguments.length?this.dom(e,i+":first-child"):void 0},t.last=function(e,i){if(1===arguments.length){if(!t.isElement(e))return void console.warn("$api.last Function need el param, el param must be DOM Element");var n=e.children;return n[n.length-1]}if(2===arguments.length)return this.dom(e,i+":last-child")},t.eq=function(e,t){return this.dom(e,":nth-child("+t+")")},t.not=function(e,t){return this.domAll(e,":not("+t+")")},t.prev=function(e){if(t.isElement(e)){var i=e.previousSibling;return i.nodeType&&3===i.nodeType?i=i.previousSibling:void 0}console.warn("$api.prev Function need el param, el param must be DOM Element")},t.next=function(e){if(t.isElement(e)){var i=e.nextSibling;return i.nodeType&&3===i.nodeType?i=i.nextSibling:void 0}console.warn("$api.next Function need el param, el param must be DOM Element")},t.closest=function(e,i){if(t.isElement(e)){var n,a;return function e(i,s){for(n=t.domAll(i.parentNode,s),a=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i].isSameNode(t))return e[i];return!1}(n,i);!a;){if(null!=(i=i.parentNode)&&i.nodeType==i.DOCUMENT_NODE)return!1;e(i,s)}return a}(e,i)}console.warn("$api.closest Function need el param, el param must be DOM Element")},t.contains=function(e,t){var i=!1;if(t===e)return i=!0;do{if((t=t.parentNode)===e)return i=!0}while(t===document.body||t===document.documentElement);return i},t.remove=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},t.attr=function(e,i,n){if(t.isElement(e))return 2==arguments.length?e.getAttribute(i):3==arguments.length?(e.setAttribute(i,n),e):void 0;console.warn("$api.attr Function need el param, el param must be DOM Element")},t.removeAttr=function(e,i){t.isElement(e)?2===arguments.length&&e.removeAttribute(i):console.warn("$api.removeAttr Function need el param, el param must be DOM Element")},t.hasCls=function(e,i){if(t.isElement(e))return e.className.indexOf(i)>-1;console.warn("$api.hasCls Function need el param, el param must be DOM Element")},t.addCls=function(e,i){if(t.isElement(e)){if("classList"in e)e.classList.add(i);else{var n=e.className+" "+i;e.className=n}return e}console.warn("$api.addCls Function need el param, el param must be DOM Element")},t.removeCls=function(e,i){if(t.isElement(e)){if("classList"in e)e.classList.remove(i);else{var n=e.className.replace(i,"");e.className=n}return e}console.warn("$api.removeCls Function need el param, el param must be DOM Element")},t.toggleCls=function(e,i){if(t.isElement(e))return"classList"in e?e.classList.toggle(i):t.hasCls(e,i)?t.removeCls(e,i):t.addCls(e,i),e;console.warn("$api.toggleCls Function need el param, el param must be DOM Element")},t.val=function(e,i){if(t.isElement(e)){if(1===arguments.length)switch(e.tagName){case"SELECT":return e.options[e.selectedIndex].value;case"INPUT":case"TEXTAREA":return e.value}if(2===arguments.length)switch(e.tagName){case"SELECT":return e.options[e.selectedIndex].value=i,e;case"INPUT":case"TEXTAREA":return e.value=i,e}}else console.warn("$api.val Function need el param, el param must be DOM Element")},t.prepend=function(e,i){if(t.isElement(e))return e.insertAdjacentHTML("afterbegin",i),e;console.warn("$api.prepend Function need el param, el param must be DOM Element")},t.append=function(e,i){if(t.isElement(e))return e.insertAdjacentHTML("beforeend",i),e;console.warn("$api.append Function need el param, el param must be DOM Element")},t.before=function(e,i){if(t.isElement(e))return e.insertAdjacentHTML("beforebegin",i),e;console.warn("$api.before Function need el param, el param must be DOM Element")},t.after=function(e,i){if(t.isElement(e))return e.insertAdjacentHTML("afterend",i),e;console.warn("$api.after Function need el param, el param must be DOM Element")},t.html=function(e,i){if(t.isElement(e))return 1===arguments.length?e.innerHTML:2===arguments.length?(e.innerHTML=i,e):void 0;console.warn("$api.html Function need el param, el param must be DOM Element")},t.text=function(e,i){if(t.isElement(e))return 1===arguments.length?e.textContent:2===arguments.length?(e.textContent=i,e):void 0;console.warn("$api.text Function need el param, el param must be DOM Element")},t.offset=function(e){if(t.isElement(e)){var i=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),n=Math.max(document.documentElement.scrollTop,document.body.scrollTop),a=e.getBoundingClientRect();return{l:a.left+i,t:a.top+n,w:e.offsetWidth,h:e.offsetHeight}}console.warn("$api.offset Function need el param, el param must be DOM Element")},t.css=function(e,i){t.isElement(e)?"string"==typeof i&&i.indexOf(":")>0&&e.style&&(e.style.cssText+=";"+i):console.warn("$api.css Function need el param, el param must be DOM Element")},t.cssVal=function(i,n){if(t.isElement(i)){if(2===arguments.length)return e.getComputedStyle(i,null).getPropertyValue(n)}else console.warn("$api.cssVal Function need el param, el param must be DOM Element")},t.jsonToStr=function(e){if("object"===(void 0===e?"undefined":a()(e)))return JSON&&o()(e)},t.strToJson=function(e){if("string"==typeof e)return JSON&&JSON.parse(e)},t.setStorage=function(e,t){if(2===arguments.length){var i=t;i="object"==(void 0===i?"undefined":a()(i))?"obj-"+(i=o()(i)):"str-"+i;var s=n();s&&s.setItem(e,i)}},t.getStorage=function(e){var t=n();if(t){var i=t.getItem(e);if(!i)return;if(0===i.indexOf("obj-"))return i=i.slice(4),JSON.parse(i);if(0===i.indexOf("str-"))return i.slice(4)}},t.rmStorage=function(e){var t=n();t&&e&&t.removeItem(e)},t.clearStorage=function(){var e=n();e&&e.clear()},t.fixIos7Bar=function(e){return t.fixStatusBar(e)},t.fixStatusBar=function(e){return t.isElement(e)?(e.style.paddingTop=api.safeArea.top+"px",e.offsetHeight):(console.warn("$api.fixStatusBar Function need el param, el param must be DOM Element"),0)},t.fixTabBar=function(e){return t.isElement(e)?(e.style.paddingBottom=api.safeArea.bottom+"px",e.offsetHeight):(console.warn("$api.fixTabBar Function need el param, el param must be DOM Element"),0)},t.toast=function(e,t,i){var n={},a=function(e,t){api.showProgress(e),setTimeout(function(){api.hideProgress()},t)};if(1===arguments.length){i=i||500;"number"==typeof e?i=e:n.title=e+"",a(n,i)}else if(2===arguments.length){i=i||500;if("number"==typeof(t=t))i=t,t=null;e&&(n.title=e),t&&(n.text=t),a(n,i)}e&&(n.title=e),t&&(n.text=t),a(n,i=i||500)},t.post=function(){var e=s.apply(null,arguments),t={},i=e.fnSuc;if(e.url&&(t.url=e.url),e.data&&(t.data=e.data),e.dataType){var n=e.dataType.toLowerCase();"text"!=n&&"json"!=n||(t.dataType=n)}else t.dataType="json";t.method="post",api.ajax(t,function(e,t){e&&i&&i(e)})},t.get=function(){var e=s.apply(null,arguments),t={},i=e.fnSuc;if(e.url&&(t.url=e.url),e.dataType){var n=e.dataType.toLowerCase();"text"!=n&&"json"!=n||(t.dataType=n)}else t.dataType="text";t.method="get",api.ajax(t,function(e,t){e&&i&&i(e)})},e.$api=t}(window);var r={name:"SendPack",data:function(){return{maxChoose:5,hasLei:!0,scroll:"",redCount:0,minRedMoney:10,redmoney:"0.00",showInput:!0,choseType:"",moneys:[],is_can_input:!1,is_can_input_amount:!1,packetNums:[],showMoney:!1,showRedNums:!1,numbers:[0,1,2,3,4,5,6,7,8,9],choose:[],specialGame:{is_have_y:!1,other_red_amount:0}}},activated:function(){this.$refs["fuli-money"]&&(this.$refs["fuli-money"].value=this.$refs["fuli-count"].value=""),this.$refs.redcount&&(this.$refs.redcount.value=this.$refs.redmoney.value=""),this.redmoney="0.00",this.choose=[],this.showInput=!0;for(var e=$api.domAll(".active"),t=0;t<e.length;t++)$api.removeCls(e[t],"active");this.hasLei=!this.$route.params.type,this.initSendPacket()},mounted:function(){this.initSendPacket(),this.scroll},methods:{setRedMoney:function(){this.redmoney=this.$refs["fuli-money"].value?this.$refs["fuli-money"].value:"0.00"},setRedAmountMoney:function(){this.redmoney=this.$refs.amountMoney.value?this.$refs.amountMoney.value:"0.00"},setRedCount:function(){this.redCount=this.$refs["fuli-count"].value},initSendPacket:function(){var e=this;e.$httpRequest("ApiGroupRules","post",{group_number:e.$route.params.id},function(t){(new auiToast).hide(),200==t.status_code?(e.minRedMoney=t.data.level_limit_amount[0],e.maxChoose=t.data.level_limit_lei,e.moneys=t.data.level_limit_amount,e.packetNums=t.data.level_packet_num,e.$route.params.type?e.hasLei=!1:e.hasLei=0!=t.data.level_limit_lei,e.is_can_input=t.data.is_can_input,e.is_can_input_amount=t.data.is_can_input_amount,1!=t.data.is_have_y||e.$route.params.type?e.specialGame={is_have_y:!1,other_red_amount:0}:(e.specialGame.is_have_y=!0,e.specialGame.other_red_amount=t.data.other_red_amount),e.$nextTick(function(){})):this.$dialog.alert({mes:"<div class='aui-font-size-20 aui-padded-15' style='color: #000;'><b>"+t.message+"</b></div>"})})},choise:function(e,t){if(!this.choose.includes(t)&&this.choose.length<this.maxChoose)this.showInput=!1,this.choose.push(t),e.currentTarget.classList.add("active");else{var i=this.choose.indexOf(t);i>-1?(this.choose.splice(i,1),e.currentTarget.classList.remove("active")):this.$dialog.alert({mes:"<div class='aui-font-size-20 aui-padded-15' style='color: #000;'><b>最多可埋雷"+this.maxChoose+"个</b></div>"})}this.choose.length<=0&&(this.showInput=!0)},choseItem:function(e,t){"money"==t?(e+=".00",this.redmoney=e,this.$refs.redmoney.value=e):(this.redCount=e,this.$refs.redcount.value=e),this.showMoney=!1,this.showRedNums=!1},sendRedPacket:function(){var e=this,t=this.redCount;if(parseFloat(this.redmoney)<parseFloat(this.minRedMoney))this.globalAlert("最低发包金额为："+this.minRedMoney+"金币",function(){});else if(""==t||t<=0)this.globalAlert("请填写发包个数",function(){});else if(this.hasLei&&(this.choose.length<=0||this.choose.length>this.maxChoose))this.globalAlert("本次发包可埋雷范围：1 ~ "+this.maxChoose+"个",function(){});else{var i=this.$route.params.type?2:1;this.loading(),this.$httpRequest("ApiSendRedPacket","post",{group_number:this.$route.params.id,red_amount:this.redmoney,red_nums:t,red_lei:this.choose.toString(),red_type:i},function(t){if((new auiToast).hide(),200==t.status_code){e.is_can_input?e.$refs["fuli-money"].value=e.$refs["fuli-count"].value="":e.is_can_input_amount?e.$refs.redcount.value=e.$refs.amountMoney.value="":e.$refs.redcount.value=e.$refs.redmoney.value="",e.redmoney="0.00",e.choose=[],e.showInput=!0;for(var i=$api.domAll(".active"),n=0;n<i.length;n++)$api.removeCls(i[n],"active");e.$router.back(-1)}else e.globalAlert(t.message,function(){})})}},globalAlert:function(e,t){this.$dialog.alert({mes:"<div class='aui-font-size-18 aui-padded-15' style='color: #000;'><b>"+e+"</b></div>",callback:function(){t()}})},loading:function(){(new auiToast).loading({title:"加载中",duration:1e4},function(e){})}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"wrapper",staticClass:"wrapper"},[i("div",{staticClass:"wrapper-main"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.specialGame.is_have_y,expression:"specialGame.is_have_y"}],staticClass:"aui-row text-item"},[e._m(0),e._v(" "),i("div",{staticClass:"aui-col-xs-7"},[i("input",{staticClass:"text-insert aui-text-right",attrs:{type:"number",readonly:""},domProps:{value:e.specialGame.other_red_amount}})]),e._v(" "),i("div",{staticClass:"aui-col-xs-1 aui-text-right aui-font-size-16"},[e._v("元")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.specialGame.is_have_y,expression:"specialGame.is_have_y"}],staticClass:"send-desc aui-text-left"},[e._v("当前为拼手气红包，固定发包金额")]),e._v(" "),e.is_can_input?i("div",[i("div",{staticClass:"aui-row text-item"},[e._m(1),e._v(" "),i("div",{staticClass:"aui-col-xs-7"},[i("input",{ref:"fuli-money",staticClass:"text-insert aui-text-right",attrs:{type:"number",placeholder:"请填写发包金额"},on:{input:e.setRedMoney}})]),e._v(" "),i("div",{staticClass:"aui-col-xs-1 aui-text-right aui-font-size-16"},[e._v("金")])]),e._v(" "),i("div",{staticClass:"send-desc aui-text-left"},[e._v("当前为拼手气红包")]),e._v(" "),i("div",{staticClass:"aui-row text-item aui-margin-t-10"},[i("div",{staticClass:"aui-col-xs-4 aui-font-size-16"},[e._v("红包个数")]),e._v(" "),i("div",{staticClass:"aui-col-xs-7"},[i("input",{ref:"fuli-count",staticClass:"text-insert aui-text-right",attrs:{type:"number",placeholder:"填填写发包个数"},on:{input:e.setRedCount}})]),e._v(" "),i("div",{staticClass:"aui-col-xs-1 aui-text-right aui-font-size-16"},[e._v("个")])])]):i("div",[e.is_can_input_amount?i("div",{staticClass:"aui-row text-item"},[e._m(3),e._v(" "),i("div",{staticClass:"aui-col-xs-7"},[i("input",{ref:"amountMoney",staticClass:"text-insert aui-text-right",attrs:{type:"number",placeholder:"请填写发包金额"},on:{input:e.setRedAmountMoney}})]),e._v(" "),i("div",{staticClass:"aui-col-xs-1 aui-text-right aui-font-size-16"},[e._v("金")])]):i("div",{staticClass:"aui-row text-item"},[e._m(2),e._v(" "),i("div",{staticClass:"aui-col-xs-7",on:{click:function(t){e.showMoney=!0}}},[i("input",{ref:"redmoney",staticClass:"text-insert aui-text-right",attrs:{type:"number",readonly:"",placeholder:e.specialGame.is_have_y?"请选择押注金额":"请选择发包金额"}})]),e._v(" "),i("div",{staticClass:"aui-col-xs-1 aui-text-right aui-font-size-16"},[e._v("金")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.specialGame.is_have_y,expression:"!specialGame.is_have_y"}],staticClass:"send-desc aui-text-left"},[e._v("\n\t\t\t\t当前为拼手气红包\n\t\t\t\t"),i("span",{directives:[{name:"show",rawName:"v-show",value:e.hasLei,expression:"hasLei"}]},[e._v("，最多可埋雷 "+e._s(e.maxChoose)+" 个")])]),e._v(" "),i("div",{staticClass:"aui-row text-item ",class:e.specialGame.is_have_y?"":"aui-margin-t-10"},[i("div",{staticClass:"aui-col-xs-4 aui-font-size-16"},[e._v("红包个数")]),e._v(" "),i("div",{staticClass:"aui-col-xs-7",on:{click:function(t){e.showRedNums=!0}}},[i("input",{ref:"redcount",staticClass:"text-insert aui-text-right",attrs:{type:"number",readonly:"",placeholder:"填选择发包个数"}})]),e._v(" "),i("div",{staticClass:"aui-col-xs-1 aui-text-right aui-font-size-16"},[e._v("个")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasLei,expression:"hasLei"}],staticClass:"lei-main"},[i("div",{staticClass:"aui-row text-item"},[i("div",{staticClass:"aui-col-xs-3 aui-font-size-16"},[e._v("红包埋雷")]),e._v(" "),i("div",{staticClass:"aui-col-xs-9 aui-text-right"},[i("input",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"text-insert aui-text-right",attrs:{type:"text",placeholder:"请选择雷值",readonly:"",value:""}}),e._v(" "),e._l(e.choose,function(t,n){return i("div",{key:n,staticClass:"item-choise"},[e._v(e._s(t))])})],2)]),e._v(" "),e._m(4),e._v(" "),i("div",{staticClass:"numberlist"},e._l(e.numbers,function(t,n){return i("div",{key:n,ref:"item-{{ item }}",refInFor:!0,staticClass:"number-item",on:{click:function(i){return e.choise(i,t)}}},[e._v(e._s(t))])}),0)]),e._v(" "),i("div",{staticClass:"totalAmount",class:e.hasLei?"":"aui-margin-t-15"},[i("span",[e._v("￥")]),e._v("\n\t\t\t"+e._s(e.redmoney)+"\n\t\t")]),e._v(" "),i("div",{staticClass:"sendaction"},[i("div",{staticClass:"aui-btn aui-btn-block",on:{click:e.sendRedPacket}},[e._v("塞进红包")])]),e._v(" "),i("div",{staticClass:"aui-clear",staticStyle:{height:"50px"}})]),e._v(" "),i("yd-popup",{attrs:{position:"bottom",height:"80%"},model:{value:e.showMoney,callback:function(t){e.showMoney=t},expression:"showMoney"}},[i("div",{staticClass:"aui-font-size-20 aui-padded-t-15 aui-padded-l-15 aui-text-center"},[e._v("选择发包金额")]),e._v(" "),i("div",{staticClass:"aui-row-padded aui-text-center"},e._l(e.moneys,function(t,n){return i("div",{key:n,staticClass:"aui-col-xs-6 way-item",on:{click:function(i){return e.choseItem(t,"money")}}},[i("div",{staticClass:"way-name"},[e._v(e._s(t)+" 金币")])])}),0)]),e._v(" "),i("yd-popup",{attrs:{position:"bottom",height:"55%"},model:{value:e.showRedNums,callback:function(t){e.showRedNums=t},expression:"showRedNums"}},[i("div",{staticClass:"aui-font-size-20 aui-padded-t-15 aui-padded-l-15 aui-text-center"},[e._v("选择发包个数")]),e._v(" "),i("div",{staticClass:"aui-row-padded aui-text-center"},e._l(e.packetNums,function(t,n){return i("div",{key:n,staticClass:"aui-col-xs-6 way-item",on:{click:function(i){return e.choseItem(t,"packet")}}},[i("div",{staticClass:"way-name"},[e._v(e._s(t)+" 包")])])}),0)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"aui-col-xs-4 aui-font-size-16"},[t("img",{staticClass:"aui-pull-left",attrs:{src:i("sJNZ"),width:"15",alt:""}}),this._v("\n\t\t\t\t发包金额\n\t\t\t")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"aui-col-xs-4 aui-font-size-16"},[t("img",{staticClass:"aui-pull-left",attrs:{src:i("sJNZ"),width:"15",alt:""}}),this._v("\n\t\t\t\t\t总金额\n\t\t\t\t")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"aui-col-xs-4 aui-font-size-16"},[t("img",{staticClass:"aui-pull-left",attrs:{src:i("sJNZ"),width:"15",alt:""}}),this._v("\n\t\t\t\t\t总金额\n\t\t\t\t")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"aui-col-xs-4 aui-font-size-16"},[t("img",{staticClass:"aui-pull-left",attrs:{src:i("sJNZ"),width:"15",alt:""}}),this._v("\n\t\t\t\t\t总金额\n\t\t\t\t")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip aui-padded-15 send-desc",staticStyle:{"margin-left":"20px"}},[t("b",[this._v("提示：再次点击选中的雷值以取消！")])])}]};var u=i("VU/8")(r,l,!1,function(e){i("7sGb")},"data-v-30c72c06",null);t.default=u.exports}});