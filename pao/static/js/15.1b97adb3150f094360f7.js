webpackJsonp([15],{"3pLt":function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("mvHQ"),l=s.n(e),o=s("cVr7"),a=s("t02I"),n={name:"Details",data:function(){return{loadCount:0,list:"",scroll:"",userInfo:{},red_status:0}},activated:function(){this.scroll&&(this.scroll.scrollTo(0,0,0),this.scroll.destroy()),this.currPage=1,this.loadCount=0,this.list=this.userInfo="",this.refreshList()},mounted:function(){o.a.use(a.a),this.$userInfo()},methods:{refreshList:function(){var t=this,i=this.$route.params.red_id;this.userInfo;if(i){var s=localStorage.getItem("RedDetailsCache1"+i);s?(t.list=JSON.parse(s),t.BScrollInit(1),t.$nextTick(function(){t.scroll.refresh()})):(this.$dialog.loading.open("数据加载中..."),this.$httpRequest("ApiPacketGetDetail","post",{red_id:i},function(s){t.$dialog.loading.close(),200==s.status_code?(t.list=s.data,0==t.loadCount&&(t.loadCount++,t.BScrollInit(s.data.red_status)),t.$nextTick(function(){t.scroll.refresh()}),t.red_status=s.data.red_status,1==s.data.red_status&&localStorage.setItem("RedDetailsCache"+i,l()(s.data)),t.scroll.finishPullDown()):t.globalAlert(s.message,function(){})}))}},toMyLink:function(){this.$router.push({path:"/my"})},BScrollInit:function(t){var i=this;i.$nextTick(function(){i.scroll=new o.a(i.$refs.wrapper,{probeType:3,click:!0,bounce:!0,pullDownRefresh:{stop:0,threshold:50}}),0==t&&i.scroll.on("pullingDown",function(){i.refreshList()})})},globalAlert:function(t,i){(new auiDialog).alert({title:"温馨提示",msg:t,buttons:["确定"]},function(t){i()})},loading:function(){(new auiToast).loading({title:"加载中",duration:1e4},function(t){})}}},r={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{ref:"wrapper",staticClass:"wrapper"},[s("div",{staticClass:"wrapper-main"},[s("section",{staticClass:"red-header"},[t.list?s("div",{staticClass:"avatar aui-font-size-18"},[s("img",{attrs:{src:t.webUrl+"/upload/"+t.list.user.avatar,alt:""}}),t._v(" "),s("b",[t._v(t._s(t.list.user.name)+"的红包")])]):t._e(),t._v(" "),t.list?s("div",{staticClass:"red-notice aui-font-size-16 aui-text-center"},[t._v("\n\t\t\t\t"+t._s(t.list.remark)+" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.list.red_lei,expression:"list.red_lei"}]},[t._v("/ 雷: "+t._s(t.list.red_lei))])]):t._e(),t._v(" "),s("div",{staticClass:"red-notice aui-font-size-20 aui-text-center"},[t._v(t._s(t.list.categroy_type))]),t._v(" "),s("div",{staticClass:"red-notice aui-font-size-20 aui-text-center",style:t.list.categroy_type?"":"margin-top: 20px"},[t.list.get_my_amount>0?s("span",{staticStyle:{"font-size":"50px","font-weight":"500"}},[t._v("\n\t\t\t\t\t"+t._s(t.list.get_my_amount)),s("small",{staticClass:"aui-font-size-16"},[t._v("金")]),t._v(" "),t._m(0)]):s("span",{staticStyle:{"font-size":"50px","font-weight":"500"}},[t._v("\n\t\t\t\t\t0.00"),s("small",{staticClass:"aui-font-size-16"},[t._v("金")]),t._v(" "),s("div",{staticClass:"aui-font-size-14"},[t._v("手慢了，红包已全部领完")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.red_status,expression:"red_status == 0"}],staticClass:"aui-text-center aui-margin-t-10 red-notice"},[t._v("下拉刷新红包数据")])]),t._v(" "),s("div",{staticClass:"aui-text-left aui-font-size-16",staticStyle:{background:"#fff",padding:"10px 15px","border-bottom":"0.03rem solid #eee",color:"#999"}},[t._v("\n\t\t\t"+t._s(t.list.get_detail)+"\n\t\t")]),t._v(" "),s("ul",{staticClass:"aui-list aui-media-list",staticStyle:{"min-height":"calc(100vh - 260px)"}},t._l(t.list.get_users,function(i,e){return i.user?s("li",{key:e,staticClass:"aui-list-item aui-list-item-middle",class:{"q-active":t.userInfo.id==i.user_id}},[s("div",{staticClass:"aui-media-list-item-inner"},[s("div",{staticClass:"aui-list-item-media",staticStyle:{width:"3rem"}},[s("img",{staticClass:"aui-list-img-sm",staticStyle:{"border-radius":"5px",width:"45px",height:"45px"},attrs:{src:t.webUrl+"/upload/"+i.user.avatar}})]),t._v(" "),s("div",{staticClass:"aui-list-item-inner"},[s("div",{staticClass:"aui-list-item-text"},[s("div",{staticClass:"aui-list-item-title aui-font-size-18 user-name",staticStyle:{top:"0px"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(i.user.name)+"\n\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"aui-list-item-right aui-font-size-16",staticStyle:{color:"#000"},domProps:{innerHTML:t._s("***"!=i.amount?i.amount+"金":i.amount)}})]),t._v(" "),s("div",{staticClass:"aui-font-size-14"},[s("span",{directives:[{name:"show",rawName:"v-show",value:22==t.list.group_type,expression:"list.group_type == 22"}],staticClass:"aui-pull-left",staticStyle:{color:"#999"}},[t._v(t._s(i.created_at))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:2!=t.list.red_type,expression:"list.red_type != 2"}],domProps:{innerHTML:t._s(i.lei?i.lei:"<span>&nbsp;</span>")}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:2==t.list.red_type,expression:"list.red_type == 2"}],staticClass:"aui-pull-right",staticStyle:{color:"#00CC00"}},[t._v("[福利包] 无需赔付")]),t._v(" "),s("div",{staticClass:"aui-clear"})])])])]):t._e()}),0)])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"aui-font-size-14"},[this._v("\n\t\t\t\t\t\t已存入余额，可直接使用"),i("img",{staticStyle:{display:"inline-block","vertical-align":"middle",margin:"-3px 0 0 -5px"},attrs:{src:s("qYqO"),width:"20"}})])}]};var c=s("VU/8")(n,r,!1,function(t){s("hg5C")},"data-v-b0ea14e8",null);i.default=c.exports},hg5C:function(t,i){},qYqO:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACYklEQVR4Xu3YPUscURQG4PeARJSgGAQLzSzYCEogqQIiqJ2Vs63W1mJKLdKIYGl+QFoDVptdFfzA79jEP7EuWVBImqgRnZkjM2x2Vdh0594zmbs/4O68z3nvnQ9Cxn+U8fxwAK4BGRdwWyDjBXCHoNsCbgtkXMBtgYwXwN0FRLcAV4qjQPQKfX6BiFhj28QA+Lw4BfBqEpqxAa8jTzQeaEOQAygXZkH0qR5YKYIcQGWtDdy6DWBEM4IYQNL8aqkdQbgH0HutCKIACcLl2kvcvtjViiAOoB3BCIBmBGMAWhGMAmhEMA6gDcEKgCYEawBaEKwC1BH+tB6B8M7Gw5J1gATh104nft/s20BQAdAUAfhCnj8t+QapBqA5Ak+Ql9+SQlAFUEe4uj4G6E0t9Gfy/JnsAPzc7MD13UkmAbi83gUEeyB6W5t4/BltjDz/6L9vQBKewmMAQ49uh3OU8xtflQQUVJwBXC11I4gOnoanD5SbXBHI/GRJ6wBJ+PvoBISBxuTNhI//zyqA7fBWAfjiaw9ucWhr8n/bZqUBtfCnIPTbqP3jQ8A4AFdKvYii+OXHenjjWyAJz9EpAK8xeZ6nXH5Z+rRvtr6xBnB1I4cgiB9o1IQ31oBa+G8AerVM3tghyOX1flAYT15dePEGJOERxqd9j7bJizeAfxReI6DvmsOLNoDPiwsAL2mdvIkGDCOkQwAtAD6S5y/autX9639Fb4NcLgyCqJ08/0xjeNEtoDXw8+sSbUAaEBxAGqYkeY2uAZK6aVjbNSANU5K8RtcASd00rO0akIYpSV6ja4CkbhrWfgBQEBVQ/6Cp7gAAAABJRU5ErkJggg=="},t02I:function(t,i,s){"use strict";
/*!
 * better-scroll / pull-down
 * (c) 2016-2019 ustbhuangyi
 * Released under the MIT License.
 */var e,l;!function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative",t[t.Default=0]="Default"}(e||(e={})),function(t){t[t.Default=0]="Default",t[t.Throttle=1]="Throttle",t[t.Normal=2]="Normal",t[t.Realtime=3]="Realtime"}(l||(l={}));var o={style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}},a=[{key:"finishPullDown",name:"finish"},{key:"openPullDown",name:"open"},{key:"closePullDown",name:"close"},{key:"autoPullDownRefresh",name:"autoPull"}].map(function(t){return{key:t.key,sourceKey:"plugins.pullDownRefresh."+t.name}}),n=function(){function t(t){this.scroll=t,this.pulling=!1,t.options.pullDownRefresh&&this._watch(),this.scroll.registerType(["pullingDown"]),this.scroll.proxy(a)}return t.prototype._watch=function(){this.scroll.options.probeType=l.Realtime,this.scroll.scroller.hooks.on("end",this._checkPullDown,this)},t.prototype._checkPullDown=function(){if(this.scroll.options.pullDownRefresh){var t=this.scroll.options.pullDownRefresh,i=t.threshold,s=void 0===i?90:i,l=t.stop,a=void 0===l?40:l;return!(this.scroll.directionY!==e.Negative||this.scroll.y<s)&&(this.pulling||(this.pulling=!0,this.scroll.trigger("pullingDown"),this.originalMinScrollY=this.scroll.minScrollY,this.scroll.minScrollY=a),this.scroll.scrollTo(this.scroll.x,a,this.scroll.options.bounceTime,o),this.pulling)}},t.prototype.finish=function(){this.pulling=!1,this.scroll.minScrollY=this.originalMinScrollY,this.scroll.resetPosition(this.scroll.options.bounceTime,o)},t.prototype.open=function(t){void 0===t&&(t=!0),this.scroll.options.pullDownRefresh=t,this._watch()},t.prototype.close=function(){this.scroll.options.pullDownRefresh=!1},t.prototype.autoPull=function(){var t=this.scroll.options.pullDownRefresh,i=t.threshold,s=void 0===i?90:i,e=t.stop,l=void 0===e?40:e;this.pulling||(this.pulling=!0,this.originalMinScrollY=this.scroll.minScrollY,this.scroll.minScrollY=s,this.scroll.scrollTo(this.scroll.x,s),this.scroll.trigger("pullingDown"),this.scroll.scrollTo(this.scroll.x,l,this.scroll.options.bounceTime,o))},t.pluginName="pullDownRefresh",t}();i.a=n}});